<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>schedule</title>
    <!-- Latest compiled and minified CSS -->
    <!-- Optional theme -->
    <link rel="stylesheet" href="css/application.css">
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <style>
    .slider-handle {
        position: absolute;
        width: 20px;
        height: 20px;
        background-color: #337ab7;
        background-image: -webkit-linear-gradient(top, #149bdf 0%, #0480be 100%);
        background-image: -o-linear-gradient(top, #f80606 0%, #0480be 100%);
        background-image: linear-gradient(to bottom, #fff159 0%, #fff159 100%);
        background-repeat: repeat-x;
        filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#ff149bdf', endColorstr='#ff0480be', GradientType=0);
        filter: none;
        -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, .2), 0 1px 2px rgba(0, 0, 0, .05);
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, .2), 0 1px 2px rgba(0, 0, 0, .05);
        border: 0px solid transparent;
        box-shadow: 2px 2px 5px #888888;
    }
    
    .slider-selection {
        position: absolute;
        background-image: -webkit-linear-gradient(top, #f9f9f9 0%, #f5f5f5 100%);
        background-image: -o-linear-gradient(top, #f9f9f9 0%, #f5f5f5 100%);
        background-image: linear-gradient(to bottom, #fff159 0%, #fff159 100%);
        background-repeat: repeat-x;
        filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#fff9f9f9', endColorstr='#fff5f5f5', GradientType=0);
        -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
        box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        border-radius: 4px;
    }
    
    .modal-backdrop {
        position: absolute;
        top: 0;
        right: 0;
        left: 0;
        background-color: rgba(255, 255, 255, 0);
    }
    
    .SomeoneBlock_3 {
        transition: width 2s;
    }
    </style>
</head>

<body>
    <input type="hidden" class="js-nowtimeid" />
    <div class="l-wrap">
        <!--網頁頂左側Menu Start-->
        <section class="l-menu">
            <div class="l-menu_logo">
                <div class="l-menu_logo_image">
                    <img src="images/navigation/img_sidenav_logo.png" alt="主選單圖片">
                </div>
                <div class="l-menu_logo_title">
                    <span class="l-title">
                        系统管理员
                    </span>
                    <span class="l-title"> 宏汇国际广场
                    </span>
                </div>
                <div class="l-menu_logo_menuimage">
                    <img src="images/navigation/img_sidenav_mainmenu.png" alt="主選單圖片">
                </div>
            </div>
            <ul class="l-menu_nav" id="menu">
                <li class="l-menu_nav_light">
                    <div style="display: none">item</div>
                </li>
                <li class="l-menu_nav_Air">
                    <div>item</div>
                    <ul class="l-menu_child_nav">
                        <li>
                            <div>展示</div>
                            <ul class="l-menu_child_nav">
                                <li>
                                    <div>即時資訊</div>
                                    <ul class="l-menu_child_nav">
                                        <li>
                                            <div>樓層資訊</div>
                                        </li>
                                        <li>
                                            <div>系統資訊</div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <div>FCU</div>
                            <ul class="l-menu_child_nav">
                                <li>
                                    <div>情境控制</div>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <div>分析</div>
                            <ul class="l-menu_child_nav">
                                <li>
                                    <div>歷史資訊</div>
                                    <ul class="l-menu_child_nav">
                                        <li>
                                            <div>樓層資訊</div>
                                        </li>
                                        <li>
                                            <div>系統資訊</div>
                                        </li>
                                        <li>
                                            <div>關鍵字查詢</div>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <div>效能分析</div>
                                    <ul class="l-menu_child_nav">
                                        <li>
                                            <div>水系統分析</div>
                                        </li>
                                        <li>
                                            <div>冰機分析</div>
                                        </li>
                                        <li>
                                            <div>滷水泵分析</div>
                                        </li>
                                        <li>
                                            <div>區域冰水泵分析</div>
                                            <ul class="l-menu_child_nav">
                                                <li>
                                                    <div>樓層資訊</div>
                                                </li>
                                                <li>
                                                    <div>系統資訊</div>
                                                </li>
                                                <li>
                                                    <div>關鍵字查詢</div>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <div>冷卻水泵分析</div>
                                        </li>
                                        <li>
                                            <div>冷卻水塔分析</div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="l-menu_nav_power">
                    <div style="display: none">item</div>
                </li>
                <li class="l-menu_nav_curtain">
                    <div style="display: none">item</div>
                </li>
            </ul>
        </section>
        <!--網頁頂左側Menu End-->
        <!--網頁內容 Start-->
        <aside class="l-wrapper">
            <div class="l-wrapper_nav">
                <div class="l-wrapper_nav_home"></div>
                <div class="l-wrapper_nav_message"></div>
                <div class="l-wrapper_nav_schedule"></div>
                <div class="btn-group">
                    <div class="dropdown">
                        <div class="l-wrapper_nav_setting dropdown-toggle" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></div>
                        <ul class="dropdown-menu" data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">
                            <li><a href="javascript:void(0)" role="tab" id="setting">租賃設定</a></li>
                            <li><a href="javascript:void(0)" role="tab" id="dropdown1-tab" data-toggle="tab" aria-controls="dropdown1">RTU資料維護</a></li>
                            <li><a href="javascript:void(0)" role="tab" id="dropdown2-tab" data-toggle="tab" aria-controls="dropdown2">建案資料維護</a></li>
                            <li><a href="javascript:void(0)" role="tab" id="dropdown3-tab" data-toggle="tab" aria-controls="dropdown2">大樓資料維護</a></li>
                            <li><a href="javascript:void(0)" role="tab" id="dropdown4-tab" data-toggle="tab" aria-controls="dropdown2">樓層資料維護</a></li>
                            <li><a href="javascript:void(0)" role="tab" id="dropdown5-tab" data-toggle="tab" aria-controls="dropdown2">空調即時資訊底圖維護</a></li>
                            <li><a href="javascript:void(0)" role="tab" id="dropdown6-tab" data-toggle="tab" aria-controls="dropdown2">空調圖表維護</a></li>
                            <li><a href="javascript:void(0)" role="tab" id="dropdown7-tab" data-toggle="tab" aria-controls="dropdown2">空調圖表Tag設定</a></li>
                        </ul>
                    </div>
                </div>
                <div class="l-wrapper_nav_logout"></div>
            </div>
            <div class="l-wrapper_content">
                <!--網頁內容Top Start-->
                <div class="l-wrapper_content_top">
                    <select class="selectpicker  select  select--l">
                        <option class="option">大樓選單</option>
                        <option class="option">A棟</option>
                        <option class="option">B棟</option>
                        <option class="option">...</option>
                    </select>
                    <select class="selectpicker select  select--l  select--gutter_left">
                        <option class="option">樓層選單</option>
                        <option class="option">1樓</option>
                        <option class="option">2樓</option>
                        <option class="option">...</option>
                    </select>
                    <select class="selectpicker select  select--l  select--gutter_left">
                        <option class="option">區域選單</option>
                        <option class="option">會議室</option>
                        <option class="option">辦公室</option>
                        <option class="option">...</option>
                    </select>
                    <div class="button-holiday mla" data-toggle="modal" data-target="#myHolidayModal"></div>
                </div>
                <!--網頁內容Top End-->
                <!--網頁內容Tab Start-->
                <div class="l-wrapper_bottom_content">
                    <!-- 時間點位 -->
                    <div class="schedule_top">
                        <div class="schedule_top_someonetag active">
                            <div class="schedule_top_someonetag_img">
                            </div>
                            <span style="cursor: pointer;">有人亮度</span>
                        </div>
                        <div class="schedule_top_unmannedtag active">
                            <div class="schedule_top_unmannedtag_img">
                            </div>
                            <span style="cursor: pointer;">無人亮度</span>
                        </div>
                    </div>
                    <div class="schedule_brightness">
                        亮度
                    </div>
                    <div class="schedule_hundred_percent">
                        100%
                    </div>
                    <div class="schedule_Zero_percent">
                        0%
                    </div>
                    <div class="schedule_time">
                        時間
                    </div>
                    <div class="schedule_eyes"></div>
                    <!-- 圖表100%點位 -->
                    <div class="schedule_hundred_percent_pointer">
                    </div>
                    <!-- 圖表 -->
                    <div class="schedule_chartblock" id="ChartBlock">
                    </div>
                    <div class="TimeLine">
                    </div>
                    <!-- 設定block -->
                    <div class="schedule_setblock">
                        <div class="js-statebtn schedule_setblock_top">
                            <div id="" class="bt bt--peak active" name="state" state="0">尖峰</div>
                            <div id="" class="bt bt--rest" name="state" state="1">休息</div>
                            <div id="" class="bt bt--Off-peak" name="state" state="2">離峰</div>
                        </div>
                        <div class="schedule_setblock_bottom">
                            <div class="schedule_setblock_barblock_left">
                                <div class="schedule_setblock_barblock_left_image">
                                    <img src="../images/3_schedule/icon_pir_title.png" alt="">
                                    <span>有人亮度</span>
                                </div>
                                <div class="schedule_setblock_barblock_left_bar">
                                    <div class="js-barvalue schedule_setblock_bottom_value">0%</div>
                                    <input id="Someone_Bar" style="width:265px;display:none;" name="ProgressBar" type="text" />
                                </div>
                            </div>
                            <div class="schedule_setblock_barblock_right">
                                <div class="schedule_setblock_barblock_right_image">
                                    <img src="../images/3_schedule/icon_pir_title.png" alt="">
                                    <span>無人亮度</span>
                                </div>
                                <div class="schedule_setblock_barblock_right_bar">
                                    <div class="js-barvalue schedule_setblock_bottom_value">0%</div>
                                    <input id="Unmanned_Bar" style="width:265px;display:none;" name="ProgressBar" type="text" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="lightbox-add">
                    </div>
                    <div class="schedule_button">
                        <div class="button-addtime" data-toggle="modal" data-target="#myAddtimeModal"></div>
                        <div class="schedule_button_right  mla">
                            <div class="button-reset" id="ResetButton"></div>
                            <div class="button-save  button--gutter_left" id="SaveButton"></div>
                        </div>
                    </div>
                </div>
                <!--網頁內容Tab End-->
            </div>
        </aside>
        <!--網頁內容 End-->
        <!-- Modal -->
        <div class="modal fade" id="myAddtimeModal" role="dialog">
            <div class="modal-dialog  modal-dialog--addtime">
                <!-- Modal content-->
                <div class="modal-content modal-schedule">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <div class="modal-title">
                            <span class="modal-title_main_title">新增時段</span>
                            <span class="modal-title_sub_title  fa fa-info-circle fa-1">
                               每時段最少為30分鐘
                            </span>
                        </div>
                        <hr />
                    </div>
                    <div class="modal-body">
                        <div class="DialogContent">
                            <div class="DialogContent_row" id="addtime_start">
                                <div class="DialogContent_row_title">開始時間</div>
                                <div class="DialogContent_row_time">
                                    <select class="selectpicker  select  select--s  select--gutter_right">
                                        <option value="" class="option">00</option>
                                        <option value="" class="option">01</option>
                                        <option value="" class="option">02</option>
                                        <option value="" class="option">03</option>
                                        <option value="" class="option">04</option>
                                        <option value="" class="option">05</option>
                                        <option value="" class="option">06</option>
                                        <option value="" class="option">07</option>
                                        <option value="" class="option">08</option>
                                        <option value="" class="option">09</option>
                                        <option value="" class="option">10</option>
                                        <option value="" class="option">11</option>
                                        <option value="" class="option">12</option>
                                        <option value="" class="option">13</option>
                                        <option value="" class="option">14</option>
                                        <option value="" class="option">15</option>
                                        <option value="" class="option">16</option>
                                        <option value="" class="option">17</option>
                                        <option value="" class="option">18</option>
                                        <option value="" class="option">19</option>
                                        <option value="" class="option">20</option>
                                        <option value="" class="option">21</option>
                                        <option value="" class="option">22</option>
                                        <option value="" class="option">23</option>
                                        <option value="" class="option">24</option>
                                    </select>
                                    <span>:</span>
                                    <select class="selectpicker  select  select--s  select--gutter_left" id="addtime_end">
                                        <option value="" class="option">00</option>
                                        <option value="" class="option">05</option>
                                        <option value="" class="option">10</option>
                                        <option value="" class="option">15</option>
                                        <option value="" class="option">20</option>
                                        <option value="" class="option">25</option>
                                        <option value="" class="option">30</option>
                                        <option value="" class="option">35</option>
                                        <option value="" class="option">40</option>
                                        <option value="" class="option">45</option>
                                        <option value="" class="option">50</option>
                                        <option value="" class="option">55</option>
                                    </select>
                                </div>
                            </div>
                            <hr class="DialogContent_hr" />
                            <div class="DialogContent_row" id="endtime_start">
                                <div class="DialogContent_row_title">
                                    <span>結束時間</span>
                                    <div class="DialogContent_row_title_error js-errormessage"></div>
                                </div>
                                <div class="DialogContent_row_time">
                                    <select class="selectpicker  select  select--s  select--gutter_right">
                                        <option value="" class="option">00</option>
                                        <option value="" class="option">01</option>
                                        <option value="" class="option">02</option>
                                        <option value="" class="option">03</option>
                                        <option value="" class="option">04</option>
                                        <option value="" class="option">05</option>
                                        <option value="" class="option">06</option>
                                        <option value="" class="option">07</option>
                                        <option value="" class="option">08</option>
                                        <option value="" class="option">09</option>
                                        <option value="" class="option">10</option>
                                        <option value="" class="option">11</option>
                                        <option value="" class="option">12</option>
                                        <option value="" class="option">13</option>
                                        <option value="" class="option">14</option>
                                        <option value="" class="option">15</option>
                                        <option value="" class="option">16</option>
                                        <option value="" class="option">17</option>
                                        <option value="" class="option">18</option>
                                        <option value="" class="option">19</option>
                                        <option value="" class="option">20</option>
                                        <option value="" class="option">21</option>
                                        <option value="" class="option">22</option>
                                        <option value="" class="option">23</option>
                                        <option value="" class="option">24</option>
                                    </select>
                                    <span>:</span>
                                    <select class="selectpicker  select  select--s  select--gutter_left" id="addtime_end">
                                        <option value="" class="option">00</option>
                                        <option value="" class="option">05</option>
                                        <option value="" class="option">10</option>
                                        <option value="" class="option">15</option>
                                        <option value="" class="option">20</option>
                                        <option value="" class="option">25</option>
                                        <option value="" class="option">30</option>
                                        <option value="" class="option">35</option>
                                        <option value="" class="option">40</option>
                                        <option value="" class="option">45</option>
                                        <option value="" class="option">50</option>
                                        <option value="" class="option">55</option>
                                    </select>
                                </div>
                            </div>
                            <input type="hidden" id="altFi eld" />
                        </div>
                        <div class="modal-footer">
                            <hr />
                            <button type="button" class="btn  btn-default" id="addtime">新增</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <style type="text/css">
        .ui-datepicker-header select {
            border: 1px #ffffff;
            border-radius: 3px;
            background-color: rgba(255, 255, 255, 0.5);
            padding: 0px;
            -webkit-appearance: none;
        }
        
        .ui-datepicker-header select option {
            background-color: #1d2c3d;
            line-height: 25px;
            color: #ffffff;
        }
        
        .ui-datepicker .ui-datepicker-calendar .ui-state-highlight a {
            background: #743620 none;
            /* a color that fits the widget theme */
            color: white;
            /* a color that is readeable with the color above */
        }
        /* div[name=timeblock] {
            position: relative;
            background: #88b7d5;
        }
        
        div[name=timeblock]:after,
        div[name=timeblock]:before {
            bottom: 100%;
            left: 50%;
            border: solid transparent;
            content: " ";
            height: 0;
            width: 0;
            position: absolute;
            pointer-events: none;
        }
        
        div[name=timeblock]:after {
            border-color: rgba(136, 183, 213, 0);
            border-width: 1px;
            margin-left: -1px;
        }
        
        div[name=timeblock]:before {
            border-color: rgba(194, 225, 245, 0);
            border-bottom-color: rgba(255, 255, 255, .7);
            border-width: 7px;
            margin-left: -7px;
        }*/
        </style>
        <!-- Modal -->
        <div class="modal fade in" id="myHolidayModal" role="dialog" aria-hidden="false" style="display: none;">
            <div class="modal-dialog modal-dialog--holiday">
                <!-- Modal content-->
                <div class="modal-content modal-schedule">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <div class="modal-title">
                            <img style="height:19px;width:19px" src="../images/3_schedule/icon_calendar.png" />
                            <span style="font-size:18px;margin-left:15px">休假日期设定</span>
                        </div>
                        <hr />
                    </div>
                    <div class="modal-body">
                        <div class="DialogContent">
                            <div class="DialogContent_row" id="addtime_start">
                                <div class="DialogContent_row_Holiday_title">固定开启日</div>
                                <div class="DialogContent_row_Holiday_content">
                                    <span>一</span>
                                    <input type="checkbox" name="chk_group" value="1">
                                    <span>二</span>
                                    <input type="checkbox" name="chk_group" value="2">
                                    <span>三</span>
                                    <input type="checkbox" name="chk_group" value="3">
                                    <span>四</span>
                                    <input type="checkbox" name="chk_group" value="4">
                                    <span>五</span>
                                    <input type="checkbox" name="chk_group" value="5">
                                    <span>六</span>
                                    <input type="checkbox" name="chk_group" value="6">
                                    <span>日</span>
                                    <input type="checkbox" name="chk_group" value="0">
                                </div>
                            </div>
                            <hr class="DialogContent_hr" />
                            <div class="DialogContent_row" id="endtime_start">
                                <div class="DialogContent_row_Holiday_title ">
                                    <span>开放时段</span>
                                </div>
                                <div class="DialogContent_row_Holiday_content">
                                    <div id="datepicker"></div>
                                </div>
                            </div>
                            <input type="hidden" id="altFi eld" />
                        </div>
                    </div>
                    <div class="modal-footer">
                        <hr />
                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal" id="HolidayDetermineBt">确定</button>
                    </div>
                </div>
            </div>
            <input type="hidden" id="altField" />
        </div>
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="js/bootstrap/bootstrap.js"></script>
    <script src="js/bootstrap/bootstrap-slider.js"></script>
    <script src="js/bootstrap/bootstrap-select.js"></script>
    <script src="js/jquery-ui.multidatespicker.js"></script>
    <script src="js/echarts.common.min.js"></script>
    <script src="js/bootstrap/bootstrap-dropdown.js"></script>
    <script src="js/Action.js"></script>
    <script src="js/NewScheduleAction.js"></script>
    <script>
    $(function() {
        $("#menu").menu({
            classes: {
                "ui-menu": "highlight"
            }
        });
    });

    var StateArray = [];

    StateArray.push({
        scheduleType: 'P',
        startTime: '00:00',
        keepTime: parseInt('120', 10),
        value: parseInt('30', 10),
        interactiveStatus: function(status) {
            if (status === 'Y') {
                return true;
            } else if (status === 'N') {
                return false;
            }
        }('Y'),
        onValue: parseInt('80', 10),
        closeTime: parseInt('450', 10),
        offValue: parseInt('30', 10)
    }, {
        scheduleType: 'P',
        startTime: '02:00',
        keepTime: parseInt('330', 10),
        value: parseInt('30', 10),
        interactiveStatus: function(status) {
            if (status === 'Y') {
                return true;
            } else if (status === 'N') {
                return false;
            }
        }('Y'),
        onValue: parseInt('80', 10),
        closeTime: parseInt('450', 10),
        offValue: parseInt('30', 10)
    }, {
        scheduleType: 'M',
        startTime: '7:30',
        keepTime: parseInt('300', 10),
        value: parseInt('45', 10),
        interactiveStatus: function(status) {
            if (status === 'Y') {
                return true;
            } else if (status === 'N') {
                return false;
            }
        }('Y'),
        onValue: parseInt('70', 10),
        closeTime: parseInt('300', 10),
        offValue: parseInt('0', 10)
    }, {
        scheduleType: 'F',
        startTime: '12:30',
        keepTime: parseInt('690', 10),
        value: parseInt('80', 10),
        interactiveStatus: function(status) {
            if (status === 'Y') {
                return true;
            } else if (status === 'N') {
                return false;
            }
        }('Y'),
        onValue: parseInt('70', 10),
        closeTime: parseInt('690', 10),
        offValue: parseInt('10', 10)
    });

    //擷取已設定好的值
    function GetArrayByWebsoket() {
        //test data
        var StateArray = new Array();
        var TimeLineArray = {};
        TimeLineArray.id = 0;
        TimeLineArray.state = 2;
        TimeLineArray.StartTime = 0;
        TimeLineArray.EndTime = 270;
        TimeLineArray.SomeoneLight = 100;
        TimeLineArray.UnmannedLight = 20;
        StateArray.push(TimeLineArray);
        var TimeLineArray2 = {};
        TimeLineArray2.id = 1;
        TimeLineArray2.state = 0;
        TimeLineArray2.StartTime = 270;
        TimeLineArray2.EndTime = 450;
        TimeLineArray2.SomeoneLight = 100;
        TimeLineArray2.UnmannedLight = 100;
        StateArray.push(TimeLineArray2);
        var TimeLineArray3 = {};
        TimeLineArray3.id = 2;
        TimeLineArray3.state = 1;
        TimeLineArray3.StartTime = 450;
        TimeLineArray3.EndTime = 486;
        TimeLineArray3.SomeoneLight = 100;
        TimeLineArray3.UnmannedLight = 70;
        StateArray.push(TimeLineArray3);
        var TimeLineArray4 = {};
        TimeLineArray4.id = 3;
        TimeLineArray4.state = 0;
        TimeLineArray4.StartTime = 486;
        TimeLineArray4.EndTime = 702;
        TimeLineArray4.SomeoneLight = 50;
        TimeLineArray4.UnmannedLight = 50;
        StateArray.push(TimeLineArray4);
        var TimeLineArray5 = {};
        TimeLineArray5.id = 4;
        TimeLineArray5.state = 2;
        TimeLineArray5.StartTime = 702;
        TimeLineArray5.EndTime = 864;
        TimeLineArray5.SomeoneLight = 100;
        TimeLineArray5.UnmannedLight = 70;
        StateArray.push(TimeLineArray5);
        return StateArray;
    }

    $(function() {
        var option = {
            //BaseUrl: "@Url.Content("~")",
            TimeLineid: "TimeLine",
            Chartid: "ChartBlock",
            Data: StateArray,
            // Data: GetArrayByWebsoket(),
            //CompanyId: '@Model.CompanyId',
            //ZoneId: '@Model.ZoneId',
            //FloorId: @Model.FloorId,
            //RtuId: '@Model.RtuId',
            //leaseId: @Model.LeaseId,
            interactiveStatus: true
        }

        ScheduleObj.init(option);
    });
    </script>
</body>

</html>
